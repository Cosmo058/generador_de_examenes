<!DOCTYPE html>
<html>
  <head>
    <title>Generador de ex&aacute;menes</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="assets/js/funciones.js"></script>
    <script src="assets/js/controller.js"></script>
    

    <script>
      $(document).ready(function(){
	
	/*
	var JSON = $.getJSON("assets/data/data.json",function(){
	  console.log("JSON loaded...");
	});
	*/
	
	$.getJSON("assets/data/data.json", function(data){
	  $.each(data,function(key,val){
	    $.each(val,function(k,v){
	      if(k==="nombreAE"){
		$("#ae_container").append("<div class='card'><div class='franja_tarjeta'></div><div class='card_content'><span>"+v+"</span></div></div>");
		$("#reactivos").append("<div class='card2'>\
					  <div class='franja_tarjeta'></div>\
					  <div class='card_content'>\
					    <div class='checkbox_div'>\
					      <input type='checkbox' id='checkboxInput'/>\
					      <label for='checkboxInput'></label>\
					    </div>\
					    <div class='pregunta_div'>\
					      <span>Mucho texto aquí, mucho texto allá</span>\
					    </div>\
					  </div>\
					</div>");
	      }
	    });
	  });
	});
	
	$(document).ajaxComplete(function(){
	  centrar_tarjetas();
	  igualar_altura_logos();
	  mostrar_ancho(); //DEBUG
	
	  $('#ae_container .card').click(function(){
	    var text = $(this).find(".card_content").html();
	    $("#ae_container").toggle();
	    $("#title").toggle();
	    $("#ae_seleccionado").toggleClass("collapsed col-md-2");
	    $("#ae_sub").toggleClass("collapsed col-md-10");
	    $("#ae_seleccionado > div:not(.circle)").html(text);
	  });

	  $(".circle").click(function(){
	    $("#ae_container").toggle();
	    $("#title").toggle();
	    $("#ae_seleccionado").toggleClass("col-md-2 collapsed");
	    $("#ae_sub").toggleClass("col-md-10 collapsed");
	  });

	  $(".pregunta_div").click(function(){
	    $("#reactivos").toggleClass("col-md-12 col-md-8");
	    $("#preview_reactivo").toggleClass("collapsed col-md-4");
	  });

	  $("input").click(function(){
	    $(this).siblings("label").toggleClass("red_background");
	  });
	});
	
        $(window).resize(function(){
          centrar_tarjetas();
          igualar_altura_logos();
          mostrar_ancho(); //DEBUG
        });
      });
    </script>
  </head>

  <body>
    <div class="container">

      <!-- Header -->
      <div class="row" id="header">
        <div class="col-md-2" id="logo_castillo_container">
            <img src="assets/img/logo/logo_castillo.png" alt="logo_castillo">
        </div>
        <div class="col-md-7"></div>
        <div class="col-md-3">
          <div id="materia_section">
            <div id="materia_title">
              <span>Biolog&iacute;a</span>
            </div>
            <div>
              <div id="logo_reactivos">
                <img src="assets/img/reactivos_seleccionados.png">
              </div>
              <div id="num_reactivos">
                1000 reactivos elegidos
              </div>
            </div>
          </div>
        </div>
      </div>
     <!--/Header-->

     <!--Title-->
      <div class="row">
        <div class="col-md-12" id="title">
          <h3>Generador de ex&aacute;menes</h3>
          <p>Aprendizajes esperados</p>
        </div>
      </div>
      <!--/Title-->

      <!--Main content-->
      <div class="row" id="main_content">
        <!--Cards-->
        <div class="col-md-12" id="ae_container"></div>
        <!--/Cards-->
        <div class="collapsed" id="ae_seleccionado"> <!-- col-md-2 -->
          <div id="sidebar_text">
          </div>
          <div class="circle">
            <button class="arrow">
              <svg viewBox="-5 0 100 80" xml:space="preserve">
                <polyline points="45.63,75.8 0.375,38.087 45.63,0.375"/>
              </svg>
            </button>
          </div>
        </div>
        <div class="collapsed" id="ae_sub">
          <div class="row">
            <div class="col-md-12" id="reactivos"> <!-- col-md-10 -->
              <div class="card2">
                <div class="franja_tarjeta"></div>
                <div class="card_content">
                  <div class="checkbox_div">
                    <input type="checkbox" id="checkboxInput"/>
                    <label for="checkboxInput"></label>
                  </div>
                  <div class="pregunta_div">
                    <span>Mucho texto aquí, mucho texto allá</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="collapsed" id="preview_reactivo">
              <span>Hola, soy un reactivo</span>
            </div>
          </div>
        </div>
      </div>
      <!--/Main content-->

      <!--Footer-->
      <div class="row">
        <div class="col-md-12" id="footer">
          D.R. &copy; 2017 | Ediciones Castillo, S.A. de C.V. <br/>
          TODOS LOS DERECHOS RESERVADOS
        </div>
      </div>
      <!--/Footer-->
    </div>
  </body>
</html>
